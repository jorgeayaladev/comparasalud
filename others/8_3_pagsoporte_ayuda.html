<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Soporte Técnico - ComparaSalud</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }

      .health-gradient {
        background: linear-gradient(135deg, #2563eb 0%, #10b981 100%);
      }

      .health-gradient-text {
        background: linear-gradient(135deg, #2563eb 0%, #10b981 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .chat-container {
        height: calc(100vh - 200px);
      }

      @media (max-width: 768px) {
        .chat-container {
          height: calc(100vh - 160px);
        }
      }

      .message-animation {
        animation: messageSlide 0.3s ease-out;
      }

      @keyframes messageSlide {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .status-indicator {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      .scrollbar-thin {
        scrollbar-width: thin;
        scrollbar-color: #d1d5db #f3f4f6;
      }

      .scrollbar-thin::-webkit-scrollbar {
        width: 6px;
      }

      .scrollbar-thin::-webkit-scrollbar-track {
        background: #f3f4f6;
        border-radius: 3px;
      }

      .scrollbar-thin::-webkit-scrollbar-thumb {
        background: #d1d5db;
        border-radius: 3px;
      }

      .scrollbar-thin::-webkit-scrollbar-thumb:hover {
        background: #9ca3af;
      }
    </style>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b border-gray-200">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <!-- Logo -->
          <div class="flex items-center">
            <div
              class="w-8 h-8 health-gradient rounded-lg flex items-center justify-center mr-3"
            >
              <i class="fas fa-heartbeat text-white text-sm"></i>
            </div>
            <span class="text-xl font-bold text-gray-900">ComparaSalud</span>
          </div>

          <!-- Navegación -->
          <nav class="hidden md:flex space-x-8">
            <a href="#" class="text-gray-500 hover:text-gray-700">Inicio</a>
            <a href="#" class="text-gray-500 hover:text-gray-700">Buscar</a>
            <a href="#" class="text-gray-500 hover:text-gray-700">Citas</a>
            <a
              href="#"
              class="text-gray-900 font-medium border-b-2 border-blue-500"
              >Soporte</a
            >
            <a href="#" class="text-gray-500 hover:text-gray-700">Perfil</a>
          </nav>

          <!-- Menú móvil -->
          <button class="md:hidden text-gray-500">
            <i class="fas fa-bars text-xl"></i>
          </button>
        </div>
      </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <!-- Header de la página -->
      <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900">Soporte Técnico</h1>
        <p class="text-gray-600 mt-2">
          Estamos aquí para ayudarte con cualquier problema o pregunta
        </p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Columna principal - Chat y Estado del Sistema -->
        <div class="lg:col-span-2 space-y-8">
          <!-- Chat en Tiempo Real -->
          <div
            class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"
          >
            <div class="border-b border-gray-200 bg-gray-50 px-6 py-4">
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <div
                    class="w-3 h-3 bg-green-500 rounded-full status-indicator mr-3"
                  ></div>
                  <h2 class="text-lg font-semibold text-gray-900">
                    Chat en Tiempo Real
                  </h2>
                </div>
                <div class="flex items-center space-x-2">
                  <span class="text-sm text-gray-500"
                    >Soporte disponible 24/7</span
                  >
                  <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                </div>
              </div>
            </div>

            <!-- Área del Chat -->
            <div class="chat-container flex flex-col">
              <!-- Historial de Mensajes -->
              <div
                id="chat-messages"
                class="flex-1 p-6 space-y-4 overflow-y-auto scrollbar-thin"
              >
                <!-- Mensaje del soporte -->
                <div class="flex items-start space-x-3 message-animation">
                  <div
                    class="w-8 h-8 health-gradient rounded-full flex items-center justify-center flex-shrink-0"
                  >
                    <i class="fas fa-headset text-white text-xs"></i>
                  </div>
                  <div
                    class="bg-gray-100 rounded-2xl rounded-tl-none px-4 py-3 max-w-xs lg:max-w-md"
                  >
                    <p class="text-gray-800">
                      ¡Hola! Soy María, tu especialista de soporte. ¿En qué
                      puedo ayudarte hoy?
                    </p>
                    <span class="text-xs text-gray-500 mt-1 block"
                      >10:24 AM</span
                    >
                  </div>
                </div>

                <!-- Mensaje del usuario -->
                <div
                  class="flex items-start space-x-3 justify-end message-animation"
                >
                  <div
                    class="bg-blue-100 rounded-2xl rounded-tr-none px-4 py-3 max-w-xs lg:max-w-md"
                  >
                    <p class="text-gray-800">
                      Hola, tengo problemas para agendar una cita con el Dr.
                      García. El sistema no me deja seleccionar horarios
                      disponibles.
                    </p>
                    <span class="text-xs text-gray-500 mt-1 block"
                      >10:25 AM</span
                    >
                  </div>
                  <div
                    class="w-8 h-8 bg-gray-400 rounded-full flex items-center justify-center flex-shrink-0"
                  >
                    <i class="fas fa-user text-white text-xs"></i>
                  </div>
                </div>

                <!-- Mensaje del soporte -->
                <div class="flex items-start space-x-3 message-animation">
                  <div
                    class="w-8 h-8 health-gradient rounded-full flex items-center justify-center flex-shrink-0"
                  >
                    <i class="fas fa-headset text-white text-xs"></i>
                  </div>
                  <div
                    class="bg-gray-100 rounded-2xl rounded-tl-none px-4 py-3 max-w-xs lg:max-w-md"
                  >
                    <p class="text-gray-800">
                      Entiendo el problema. Voy a verificar el estado del
                      sistema del Dr. García. Mientras tanto, ¿podrías contarme
                      qué navegador estás usando y si has intentado desde la
                      aplicación móvil?
                    </p>
                    <span class="text-xs text-gray-500 mt-1 block"
                      >10:26 AM</span
                    >
                  </div>
                </div>

                <!-- Indicador de escritura -->
                <div id="typing-indicator" class="flex items-start space-x-3">
                  <div
                    class="w-8 h-8 health-gradient rounded-full flex items-center justify-center flex-shrink-0"
                  >
                    <i class="fas fa-headset text-white text-xs"></i>
                  </div>
                  <div
                    class="bg-gray-100 rounded-2xl rounded-tl-none px-4 py-3"
                  >
                    <div class="flex space-x-1">
                      <div
                        class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"
                      ></div>
                      <div
                        class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"
                        style="animation-delay: 0.1s"
                      ></div>
                      <div
                        class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"
                        style="animation-delay: 0.2s"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Área de entrada de texto -->
              <div class="border-t border-gray-200 p-4 bg-white">
                <div class="flex space-x-4">
                  <div class="flex-1">
                    <textarea
                      id="message-input"
                      placeholder="Escribe tu mensaje aquí..."
                      class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                      rows="2"
                    ></textarea>
                  </div>
                  <button
                    id="send-button"
                    class="health-gradient text-white rounded-lg px-6 py-3 h-fit hover:shadow-md transition-all duration-200 flex items-center space-x-2"
                  >
                    <i class="fas fa-paper-plane"></i>
                    <span class="hidden sm:inline">Enviar</span>
                  </button>
                </div>
                <div class="flex justify-between items-center mt-2">
                  <div class="flex space-x-2">
                    <button
                      class="text-gray-500 hover:text-gray-700 p-2 rounded-lg"
                    >
                      <i class="fas fa-paperclip"></i>
                    </button>
                    <button
                      class="text-gray-500 hover:text-gray-700 p-2 rounded-lg"
                    >
                      <i class="fas fa-image"></i>
                    </button>
                    <button
                      class="text-gray-500 hover:text-gray-700 p-2 rounded-lg"
                    >
                      <i class="fas fa-smile"></i>
                    </button>
                  </div>
                  <span class="text-xs text-gray-500"
                    >Presiona Enter para enviar</span
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- Estado del Sistema -->
          <div class="bg-white rounded-xl shadow-sm border border-gray-200">
            <div class="border-b border-gray-200 px-6 py-4">
              <h2 class="text-lg font-semibold text-gray-900">
                Estado del Sistema
              </h2>
            </div>
            <div class="p-6 space-y-6">
              <!-- Estado General -->
              <div>
                <h3 class="text-md font-medium text-gray-900 mb-4">
                  Estado General del Servicio
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div
                    class="bg-green-50 border border-green-200 rounded-lg p-4"
                  >
                    <div class="flex items-center justify-between">
                      <span class="text-green-800 font-medium"
                        >Aplicación Web</span
                      >
                      <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                        <span class="text-green-600 text-sm">Operacional</span>
                      </div>
                    </div>
                  </div>
                  <div
                    class="bg-green-50 border border-green-200 rounded-lg p-4"
                  >
                    <div class="flex items-center justify-between">
                      <span class="text-green-800 font-medium">App Móvil</span>
                      <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                        <span class="text-green-600 text-sm">Operacional</span>
                      </div>
                    </div>
                  </div>
                  <div
                    class="bg-yellow-50 border border-yellow-200 rounded-lg p-4"
                  >
                    <div class="flex items-center justify-between">
                      <span class="text-yellow-800 font-medium"
                        >API de Citas</span
                      >
                      <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-yellow-500 rounded-full"></div>
                        <span class="text-yellow-600 text-sm">Inestable</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Mantenimientos Programados -->
              <div>
                <h3 class="text-md font-medium text-gray-900 mb-4">
                  Mantenimientos Programados
                </h3>
                <div class="space-y-4">
                  <div
                    class="flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-lg"
                  >
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"
                      >
                        <i class="fas fa-tools text-blue-600"></i>
                      </div>
                      <div>
                        <h4 class="font-medium text-blue-900">
                          Actualización del Sistema de Pagos
                        </h4>
                        <p class="text-blue-700 text-sm">
                          15 Dic 2024, 02:00 - 04:00 AM
                        </p>
                      </div>
                    </div>
                    <span
                      class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded"
                      >Programado</span
                    >
                  </div>

                  <div
                    class="flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg"
                  >
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center"
                      >
                        <i class="fas fa-check text-green-600"></i>
                      </div>
                      <div>
                        <h4 class="font-medium text-green-900">
                          Mejora en Búsqueda de Proveedores
                        </h4>
                        <p class="text-green-700 text-sm">
                          Completado - 10 Dic 2024
                        </p>
                      </div>
                    </div>
                    <span
                      class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded"
                      >Completado</span
                    >
                  </div>
                </div>
              </div>

              <!-- Incidentes Recientes -->
              <div>
                <h3 class="text-md font-medium text-gray-900 mb-4">
                  Incidentes Recientes
                </h3>
                <div class="space-y-3">
                  <div
                    class="flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg"
                  >
                    <div>
                      <h4 class="font-medium text-red-900">
                        Problemas de Agendamiento
                      </h4>
                      <p class="text-red-700 text-sm">
                        Algunos usuarios reportan errores al agendar citas -
                        Investigando
                      </p>
                      <p class="text-red-600 text-xs mt-1">
                        Inicio: 14 Dic 2024, 09:30 AM
                      </p>
                    </div>
                    <span
                      class="bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded"
                      >Investigando</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Columna lateral - Historial de Tickets -->
        <div class="space-y-8">
          <!-- Historial de Tickets -->
          <div class="bg-white rounded-xl shadow-sm border border-gray-200">
            <div class="border-b border-gray-200 px-6 py-4">
              <div class="flex items-center justify-between">
                <h2 class="text-lg font-semibold text-gray-900">Mis Tickets</h2>
                <button
                  class="health-gradient text-white rounded-lg px-4 py-2 text-sm hover:shadow-md transition-all duration-200"
                >
                  <i class="fas fa-plus mr-2"></i>Nuevo Ticket
                </button>
              </div>
            </div>
            <div class="p-4">
              <!-- Filtros -->
              <div class="flex space-x-2 mb-4">
                <button
                  class="bg-blue-100 text-blue-800 text-xs font-medium px-3 py-1.5 rounded-full"
                >
                  Todos
                </button>
                <button
                  class="text-gray-600 hover:text-gray-800 text-xs font-medium px-3 py-1.5 rounded-full"
                >
                  Abiertos
                </button>
                <button
                  class="text-gray-600 hover:text-gray-800 text-xs font-medium px-3 py-1.5 rounded-full"
                >
                  Cerrados
                </button>
              </div>

              <!-- Lista de Tickets -->
              <div class="space-y-3 max-h-96 overflow-y-auto scrollbar-thin">
                <!-- Ticket 1 -->
                <div
                  class="border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-all duration-200 cursor-pointer"
                >
                  <div class="flex justify-between items-start mb-2">
                    <h3 class="font-medium text-gray-900">
                      Problema con agendamiento de citas
                    </h3>
                    <span
                      class="bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded"
                      >En Progreso</span
                    >
                  </div>
                  <p class="text-gray-600 text-sm mb-2 truncate">
                    No puedo seleccionar horarios disponibles para el Dr.
                    García...
                  </p>
                  <div
                    class="flex justify-between items-center text-xs text-gray-500"
                  >
                    <span>#CS-7842</span>
                    <span>Hoy, 10:25 AM</span>
                  </div>
                </div>

                <!-- Ticket 2 -->
                <div
                  class="border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-all duration-200 cursor-pointer"
                >
                  <div class="flex justify-between items-start mb-2">
                    <h3 class="font-medium text-gray-900">
                      Error en pago con tarjeta
                    </h3>
                    <span
                      class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded"
                      >Resuelto</span
                    >
                  </div>
                  <p class="text-gray-600 text-sm mb-2 truncate">
                    El sistema rechaza mi tarjeta de crédito al intentar
                    pagar...
                  </p>
                  <div
                    class="flex justify-between items-center text-xs text-gray-500"
                  >
                    <span>#CS-7791</span>
                    <span>12 Dic 2024</span>
                  </div>
                </div>

                <!-- Ticket 3 -->
                <div
                  class="border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-all duration-200 cursor-pointer"
                >
                  <div class="flex justify-between items-start mb-2">
                    <h3 class="font-medium text-gray-900">
                      Problema con notificaciones push
                    </h3>
                    <span
                      class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded"
                      >Resuelto</span
                    >
                  </div>
                  <p class="text-gray-600 text-sm mb-2 truncate">
                    No recibo recordatorios de mis citas programadas...
                  </p>
                  <div
                    class="flex justify-between items-center text-xs text-gray-500"
                  >
                    <span>#CS-7723</span>
                    <span>8 Dic 2024</span>
                  </div>
                </div>

                <!-- Ticket 4 -->
                <div
                  class="border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-all duration-200 cursor-pointer"
                >
                  <div class="flex justify-between items-start mb-2">
                    <h3 class="font-medium text-gray-900">
                      Duda sobre facturación
                    </h3>
                    <span
                      class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded"
                      >Nuevo</span
                    >
                  </div>
                  <p class="text-gray-600 text-sm mb-2 truncate">
                    Necesito una factura por los servicios del mes pasado...
                  </p>
                  <div
                    class="flex justify-between items-center text-xs text-gray-500"
                  >
                    <span>#CS-7815</span>
                    <span>5 Dic 2024</span>
                  </div>
                </div>

                <!-- Ticket 5 -->
                <div
                  class="border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-all duration-200 cursor-pointer"
                >
                  <div class="flex justify-between items-start mb-2">
                    <h3 class="font-medium text-gray-900">
                      Problema con la app móvil
                    </h3>
                    <span
                      class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded"
                      >Resuelto</span
                    >
                  </div>
                  <p class="text-gray-600 text-sm mb-2 truncate">
                    La aplicación se cierra inesperadamente al ver detalles...
                  </p>
                  <div
                    class="flex justify-between items-center text-xs text-gray-500"
                  >
                    <span>#CS-7689</span>
                    <span>1 Dic 2024</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Acciones Rápidas -->
          <div class="bg-white rounded-xl shadow-sm border border-gray-200">
            <div class="border-b border-gray-200 px-6 py-4">
              <h2 class="text-lg font-semibold text-gray-900">
                Acciones Rápidas
              </h2>
            </div>
            <div class="p-4 space-y-3">
              <button
                class="w-full flex items-center space-x-3 p-3 text-left border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all duration-200"
              >
                <div
                  class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"
                >
                  <i class="fas fa-file-alt text-blue-600"></i>
                </div>
                <div>
                  <h3 class="font-medium text-gray-900">
                    Ver Preguntas Frecuentes
                  </h3>
                  <p class="text-gray-600 text-sm">
                    Respuestas a dudas comunes
                  </p>
                </div>
              </button>

              <button
                class="w-full flex items-center space-x-3 p-3 text-left border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all duration-200"
              >
                <div
                  class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center"
                >
                  <i class="fas fa-phone text-green-600"></i>
                </div>
                <div>
                  <h3 class="font-medium text-gray-900">Llamar a Soporte</h3>
                  <p class="text-gray-600 text-sm">+1 (555) 123-4567</p>
                </div>
              </button>

              <button
                class="w-full flex items-center space-x-3 p-3 text-left border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all duration-200"
              >
                <div
                  class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center"
                >
                  <i class="fas fa-envelope text-purple-600"></i>
                </div>
                <div>
                  <h3 class="font-medium text-gray-900">Email de Soporte</h3>
                  <p class="text-gray-600 text-sm">soporte@comparasalud.com</p>
                </div>
              </button>
            </div>
          </div>

          <!-- Información de Contacto -->
          <div class="bg-blue-50 border border-blue-200 rounded-xl p-4">
            <h3 class="font-semibold text-blue-900 mb-2">
              ¿Necesitas ayuda inmediata?
            </h3>
            <p class="text-blue-700 text-sm mb-3">
              Nuestro equipo de soporte está disponible 24/7 para asistirte.
            </p>
            <div class="space-y-2 text-sm">
              <div class="flex items-center space-x-2">
                <i class="fas fa-clock text-blue-600"></i>
                <span class="text-blue-800">Disponibilidad: 24/7</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-stopwatch text-blue-600"></i>
                <span class="text-blue-800"
                  >Tiempo promedio de respuesta: < 5 min</span
                >
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-check-circle text-blue-600"></i>
                <span class="text-blue-800">Tasa de resolución: 95%</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const messageInput = document.getElementById("message-input");
        const sendButton = document.getElementById("send-button");
        const chatMessages = document.getElementById("chat-messages");
        const typingIndicator = document.getElementById("typing-indicator");

        // Función para enviar mensaje
        function sendMessage() {
          const message = messageInput.value.trim();
          if (message) {
            // Crear elemento de mensaje del usuario
            const userMessage = document.createElement("div");
            userMessage.className =
              "flex items-start space-x-3 justify-end message-animation";
            userMessage.innerHTML = `
                        <div class="bg-blue-100 rounded-2xl rounded-tr-none px-4 py-3 max-w-xs lg:max-w-md">
                            <p class="text-gray-800">${message}</p>
                            <span class="text-xs text-gray-500 mt-1 block">${new Date().toLocaleTimeString(
                              "es-ES",
                              { hour: "2-digit", minute: "2-digit" }
                            )}</span>
                        </div>
                        <div class="w-8 h-8 bg-gray-400 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-user text-white text-xs"></i>
                        </div>
                    `;

            // Agregar mensaje al chat
            chatMessages.insertBefore(userMessage, typingIndicator);

            // Limpiar input
            messageInput.value = "";

            // Scroll al final
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Simular respuesta del soporte después de un delay
            setTimeout(simulateSupportResponse, 2000);
          }
        }

        // Simular respuesta del soporte
        function simulateSupportResponse() {
          // Mostrar indicador de escritura
          typingIndicator.style.display = "flex";
          chatMessages.scrollTop = chatMessages.scrollHeight;

          // Respuestas predefinidas
          const responses = [
            "Entiendo, voy a investigar ese problema para usted.",
            "¿Podría proporcionarme más detalles sobre el error que está experimentando?",
            "He verificado el sistema y parece que hay un problema temporal. Nuestro equipo técnico está trabajando en ello.",
            "Gracias por reportar este problema. ¿Ha intentado actualizar la página o reiniciar la aplicación?",
            "Puedo ayudarle con eso. ¿Podría decirme qué navegador y dispositivo está usando?",
          ];

          const randomResponse =
            responses[Math.floor(Math.random() * responses.length)];

          // Ocultar indicador de escritura y mostrar respuesta después de 3 segundos
          setTimeout(() => {
            typingIndicator.style.display = "none";

            const supportMessage = document.createElement("div");
            supportMessage.className =
              "flex items-start space-x-3 message-animation";
            supportMessage.innerHTML = `
                        <div class="w-8 h-8 health-gradient rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-headset text-white text-xs"></i>
                        </div>
                        <div class="bg-gray-100 rounded-2xl rounded-tl-none px-4 py-3 max-w-xs lg:max-w-md">
                            <p class="text-gray-800">${randomResponse}</p>
                            <span class="text-xs text-gray-500 mt-1 block">${new Date().toLocaleTimeString(
                              "es-ES",
                              { hour: "2-digit", minute: "2-digit" }
                            )}</span>
                        </div>
                    `;

            chatMessages.insertBefore(supportMessage, typingIndicator);
            chatMessages.scrollTop = chatMessages.scrollHeight;
          }, 3000);
        }

        // Event listeners
        sendButton.addEventListener("click", sendMessage);

        messageInput.addEventListener("keypress", function (e) {
          if (e.key === "Enter" && !e.shiftKey) {
            e.preventDefault();
            sendMessage();
          }
        });

        // Auto-expand textarea
        messageInput.addEventListener("input", function () {
          this.style.height = "auto";
          this.style.height = this.scrollHeight + "px";
        });

        // Inicializar scroll al final del chat
        chatMessages.scrollTop = chatMessages.scrollHeight;
      });
    </script>
  </body>
</html>
